(self.webpackChunkmy_recake=self.webpackChunkmy_recake||[]).push([[166],{2051:function(t,e){var a,i;void 0===(i="function"==typeof(a=function(){"use strict";function e(t,e,a){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){l(i.response,e,a)},i.onerror=function(){console.error("could not download file")},i.send()}function a(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(a)}}var n="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=n.saveAs||("object"!=typeof window||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,o,l){var s=n.URL||n.webkitURL,d=document.createElement("a");d.download=o=o||t.name||"download",d.rel="noopener","string"==typeof t?(d.href=t,d.origin===location.origin?i(d):a(d.href)?e(t,o,l):i(d,d.target="_blank")):(d.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(d.href)},4e4),setTimeout(function(){i(d)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,o){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),n);else if(a(t))e(t,n,o);else{var l=document.createElement("a");l.href=t,l.target="_blank",setTimeout(function(){i(l)})}}:function(t,a,i,l){if((l=l||open("","_blank"))&&(l.document.title=l.document.body.innerText="downloading..."),"string"==typeof t)return e(t,a,i);var s="application/octet-stream"===t.type,d=/constructor/i.test(n.HTMLElement)||n.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&d||o)&&"undefined"!=typeof FileReader){var r=new FileReader;r.onloadend=function(){var t=r.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=t:location=t,l=null},r.readAsDataURL(t)}else{var u=n.URL||n.webkitURL,p=u.createObjectURL(t);l?l.location=p:location.href=p,l=null,setTimeout(function(){u.revokeObjectURL(p)},4e4)}});n.saveAs=l.saveAs=l,t.exports=l})?a.apply(e,[]):a)||(t.exports=i)},166:(t,e,a)=>{"use strict";a.r(e),a.d(e,{AdminModule:()=>J});var i=a(1116),n=a(5366),o=a(3337),l=a(3957),s=a(7112),d=a(4369),c=a(7307),r=a(168),u=a(667),p=a(7064);let g=(()=>{class t{constructor(t,e){this.router=t,this.api=e,this.mode="side"}ngOnInit(){this.checkLogin()}checkLogin(){this.api.get("bookswithauth/status").subscribe(t=>{},t=>{this.router.navigate(["/login"])})}logout(){confirm("Keluar aplikasi?")&&(localStorage.removeItem("appToken"),window.location.reload())}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(o.F0),n.Y36(l.s))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-admin"]],decls:28,vars:9,consts:[["color","primary",1,"example-header"],["mat-icon-button","",3,"click"],[1,"uk-width-expand"],["mat-button","",3,"click"],[1,"admin-container"],["mode","side",1,"sidenav-left",3,"position","opened","fixedInViewport","fixedTopGap","fixedBottomGap"],["sidenav",""],["routerLink","/admin/dashboard"],["matListIcon",""],["matLine",""],["routerLink","/admin/product"],["mode","side",1,"example-sidenav",3,"position","fixedInViewport","fixedTopGap","fixedBottomGap"],[2,"padding","20px","background-color","#ccc"]],template:function(t,e){if(1&t){const t=n.EpF();n.ynx(0),n.TgZ(1,"mat-toolbar",0),n.TgZ(2,"button",1),n.NdJ("click",function(){return n.CHM(t),n.MAs(12).toggle()}),n.TgZ(3,"mat-icon"),n._uU(4,"menu"),n.qZA(),n.qZA(),n.TgZ(5,"span"),n._uU(6,"Recake"),n.qZA(),n._UZ(7,"div",2),n.TgZ(8,"button",3),n.NdJ("click",function(){return e.logout()}),n._uU(9,"Logout"),n.qZA(),n.qZA(),n.TgZ(10,"mat-sidenav-container",4),n.TgZ(11,"mat-sidenav",5,6),n.TgZ(13,"mat-nav-list"),n.TgZ(14,"mat-list-item",7),n.TgZ(15,"mat-icon",8),n._uU(16,"dashboard"),n.qZA(),n.TgZ(17,"h3",9),n._uU(18,"Dashboard"),n.qZA(),n.qZA(),n.TgZ(19,"mat-list-item",10),n.TgZ(20,"mat-icon",8),n._uU(21,"camera_enhance"),n.qZA(),n.TgZ(22,"h3",9),n._uU(23,"Resep"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n._UZ(24,"mat-sidenav",11,6),n.TgZ(26,"mat-sidenav-content",12),n._UZ(27,"router-outlet"),n.qZA(),n.qZA(),n.BQk()}2&t&&(n.xp6(11),n.Q6J("position","start")("opened",!0)("fixedInViewport",!0)("fixedTopGap",60)("fixedBottomGap",0),n.xp6(13),n.Q6J("position","end")("fixedInViewport",!0)("fixedTopGap",60)("fixedBottomGap",0))},directives:[s.Ye,d.lW,c.Hw,r.TM,r.JX,u.Hk,u.Tg,o.rH,u.Nh,p.X2,r.Rh,o.lC],styles:[""]}),t})();var m=a(2797);let h=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-dashboard"]],decls:16,vars:0,consts:[[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["mat-card-image","","src","https://1.bp.blogspot.com/-_72emwM-7uE/XrPi-4DtFvI/AAAAAAAAG8Y/rByYTDh5MkcxFNZwMEcYRgT1057GYbggwCLcBGAsYHQ/s1600/aneka-resep-kue-kering-untuk-lebaran-2020-unik-dan-cantik.jpg","alt","Photo of a recake"],["mat-button",""]],template:function(t,e){1&t&&(n.TgZ(0,"mat-card",0),n.TgZ(1,"mat-card-header"),n._UZ(2,"div",1),n.TgZ(3,"mat-card-title"),n._uU(4,"Welcome to Recake"),n.qZA(),n.TgZ(5,"mat-card-subtitle"),n._uU(6,"Web Applikasi Resep Kue"),n.qZA(),n.qZA(),n._UZ(7,"img",2),n.TgZ(8,"mat-card-content"),n.TgZ(9,"p"),n._uU(10," Web Aplikasi ini dibuat untuk memenuhi tugas akhir teknologi web lanjut. Recake adalah sebuah web aplikasi yang menyediakan berbagai macam resep kue. Disini anda dapat menemukan beragam resep kue, mulai dari resep kue kering, kue tradisional, kue lebaran, dan resep kue lainnya. Pada web aplikasi ini anda juga dapat berbagi inspirasi mengenai resep kue. Karena pada web aplikasi ini anda dapat menambahkan resep ataupun mengunduh resep yang telah tersedia. "),n.qZA(),n.qZA(),n.TgZ(11,"mat-card-actions"),n.TgZ(12,"button",3),n._uU(13,"LIKE"),n.qZA(),n.TgZ(14,"button",3),n._uU(15,"SHARE"),n.qZA(),n.qZA(),n.qZA())},directives:[m.a8,m.dk,m.kc,m.n5,m.$j,m.G2,m.dn,m.hq,d.lW],styles:[""]}),t})();var f=a(1265),Z=a(1041),b=a(2051),k=a(2935);let T=(()=>{class t{constructor(t,e,a){this.api=t,this.dialogRef=e,this.dialogData=a,this.loadingUpload=!1}ngOnInit(){console.log(this.dialogData)}onFileChange(t){t.target.files.length>0&&(this.selectedFile=t.target.files[0],console.log(this.selectedFile))}UploadFile(){let t=new FormData;t.append("file",this.selectedFile),this.loadingUpload=!0,this.api.upload(t).subscribe(t=>{this.updateProduct(t),console.log(t)},t=>{this.loadingUpload=!1,alert("Gagal mengunggah file")})}updateProduct(t){1==t.status?(this.updateBook(t),alert("File berhasil diunggah"),this.loadingUpload=!1,this.dialogRef.close()):alert(t.message)}updateBook(t){this.api.put("books/"+this.dialogData.id,{url:t.url}).subscribe(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(l.s),n.Y36(k.so),n.Y36(k.WI))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-file-uploader"]],decls:13,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"uk-flex","uk-flex-middle","uk-flex-center",2,"height","100px","outline","2px dashed #ccc","margin","10px",3,"click"],["type","file","id","file",2,"display","none",3,"change"],["fileInput",""],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"h1",0),n._uU(1,"Unggah File"),n.qZA(),n.TgZ(2,"div",1),n.TgZ(3,"div",2),n.NdJ("click",function(){return n.CHM(t),n.MAs(7).click()}),n.TgZ(4,"span"),n._uU(5),n.qZA(),n.qZA(),n.TgZ(6,"input",3,4),n.NdJ("change",function(t){return e.onFileChange(t)}),n.qZA(),n.qZA(),n.TgZ(8,"div",5),n.TgZ(9,"button",6),n._uU(10,"Cancel"),n.qZA(),n.TgZ(11,"button",7),n.NdJ("click",function(){return e.UploadFile()}),n._uU(12),n.qZA(),n.qZA()}2&t&&(n.xp6(5),n.Oqu(e.selectedFile?e.selectedFile.name:"Pilih File"),n.xp6(6),n.Q6J("disabled",e.loadingUpload),n.xp6(1),n.Oqu(e.loadingUpload?"Uploading..":"Upload"))},directives:[k.uh,k.xY,k.H8,d.lW,k.ZT],styles:[""]}),t})();var A=a(3070),q=a(9550);let x=(()=>{class t{constructor(t,e,a){this.dialogRef=t,this.data=e,this.api=a,this.loading=!1}ngOnInit(){}saveData(){this.loading=!0,null==this.data.id?this.api.post("books",this.data).subscribe(t=>{this.dialogRef.close(t),this.loading=!1},t=>{this.loading=!1,alert("Tidak dapat menyimpan data")}):this.api.put("books/"+this.data.id,this.data).subscribe(t=>{this.dialogRef.close(t),this.loading=!1},t=>{this.loading=!1,alert("Tidak dapat memperbarui data")})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(k.so),n.Y36(k.WI),n.Y36(l.s))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-product-detail"]],decls:20,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline",2,"width","100%"],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","",3,"disabled","click"]],template:function(t,e){1&t&&(n.TgZ(0,"h3",0),n._uU(1," Detail Resep\n"),n.qZA(),n.TgZ(2,"div",1),n.TgZ(3,"mat-form-field",2),n.TgZ(4,"mat-label"),n._uU(5,"Judul"),n.qZA(),n.TgZ(6,"input",3),n.NdJ("ngModelChange",function(t){return e.data.title=t}),n.qZA(),n.qZA(),n.TgZ(7,"mat-form-field",2),n.TgZ(8,"mat-label"),n._uU(9,"Penulis"),n.qZA(),n.TgZ(10,"input",3),n.NdJ("ngModelChange",function(t){return e.data.author=t}),n.qZA(),n.qZA(),n.TgZ(11,"mat-form-field",2),n.TgZ(12,"mat-label"),n._uU(13,"Tahun Terbit"),n.qZA(),n.TgZ(14,"input",3),n.NdJ("ngModelChange",function(t){return e.data.year=t}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(15,"div",4),n.TgZ(16,"button",5),n._uU(17,"Batal"),n.qZA(),n.TgZ(18,"button",6),n.NdJ("click",function(){return e.saveData()}),n._uU(19),n.qZA(),n.qZA()),2&t&&(n.xp6(6),n.Q6J("ngModel",e.data.title),n.xp6(4),n.Q6J("ngModel",e.data.author),n.xp6(4),n.Q6J("ngModel",e.data.year),n.xp6(4),n.Q6J("disabled",e.loading),n.xp6(1),n.Oqu(e.loading?"Menyimpan..":"Simpan"))},directives:[k.uh,k.xY,A.KE,A.hX,q.Nt,Z.Fj,Z.JJ,Z.On,k.H8,d.lW,k.ZT],styles:[""]}),t})();var v=a(7672);function w(t,e){1&t&&(n.TgZ(0,"div",2),n._UZ(1,"mat-spinner"),n.qZA())}function U(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"button",12),n.NdJ("click",function(){n.CHM(t);const e=n.oxw().$implicit;return n.oxw(2).downloadFile(e)}),n.TgZ(1,"mat-icon"),n._uU(2,"download"),n.qZA(),n.qZA()}}function y(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n.YNc(2,U,3,0,"button",9),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA(),n.TgZ(9,"td"),n._uU(10),n.qZA(),n.TgZ(11,"td",7),n.TgZ(12,"button",10),n.NdJ("click",function(){const e=n.CHM(t).$implicit;return n.oxw(2).uploadFile(e)}),n._uU(13,"Upload Doc"),n.qZA(),n.TgZ(14,"button",10),n.NdJ("click",function(){const e=n.CHM(t),a=e.$implicit,i=e.index;return n.oxw(2).productDetail(a,i)}),n._uU(15,"Edit"),n.qZA(),n.TgZ(16,"button",11),n.NdJ("click",function(){const e=n.CHM(t),a=e.$implicit,i=e.index;return n.oxw(2).deleteProduct(a.id,i)}),n._uU(17),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=e.$implicit,a=e.index,i=n.oxw(2);n.xp6(2),n.Q6J("ngIf",""!=t.url),n.xp6(2),n.Oqu(a+1),n.xp6(2),n.Oqu(t.title),n.xp6(2),n.Oqu(t.author),n.xp6(2),n.Oqu(t.year),n.xp6(6),n.Q6J("disabled",i.loadingDelete[a]),n.xp6(1),n.Oqu(i.loadingDelete[a]?"Menghapus..":"Delete")}}function _(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"mat-card"),n.TgZ(1,"mat-card-header"),n.TgZ(2,"mat-card-title"),n._uU(3),n.qZA(),n.qZA(),n.TgZ(4,"mat-card-content"),n.TgZ(5,"div",3),n._UZ(6,"span",4),n.TgZ(7,"button",5),n.NdJ("click",function(){return n.CHM(t),n.oxw().productDetail({},-1)}),n._uU(8,"Tambah Resep"),n.qZA(),n.qZA(),n.TgZ(9,"table",6),n.TgZ(10,"thead"),n._UZ(11,"th"),n.TgZ(12,"th"),n._uU(13,"No"),n.qZA(),n.TgZ(14,"th"),n._uU(15,"Judul"),n.qZA(),n.TgZ(16,"th"),n._uU(17,"Penulis"),n.qZA(),n.TgZ(18,"th"),n._uU(19,"Tahun Terbit"),n.qZA(),n.TgZ(20,"th",7),n._uU(21,"#"),n.qZA(),n.qZA(),n.TgZ(22,"tbody"),n.YNc(23,y,18,7,"tr",8),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(3),n.Oqu(t.title),n.xp6(20),n.Q6J("ngForOf",t.books)}}const M=[{path:"",component:g,children:[{path:"dashboard",component:h},{path:"product",component:(()=>{class t{constructor(t,e){this.dialog=t,this.api=e,this.book={},this.books=[],this.loading=!1,this.loadingDelete={},this.title="Resep Kue",this.getBooks()}ngOnInit(){}getBooks(){this.loading=!0,this.api.get("books").subscribe(t=>{this.books=t,this.loading=!1},t=>{this.loading=!1,alert("Tidak dapat mengambil data")})}productDetail(t,e){this.dialog.open(x,{width:"400px",data:t}).afterClosed().subscribe(a=>{a&&(-1==e?this.books.push(a):this.books[e]=t)})}deleteProduct(t,e){confirm("Delete item?")&&(this.loadingDelete[e]=!0,this.api.delete("books/"+this.books[e].id).subscribe(t=>{this.books.splice(e,1),this.loadingDelete[e]=!1},t=>{this.loadingDelete[e]=!1,alert("Tidak dapat menghapus data")}))}uploadFile(t){this.dialog.open(T,{width:"400px",data:t}).afterClosed().subscribe(t=>{})}downloadFile(t){b.saveAs("http://api.sunhouse.co.id/bookstore/"+t.url)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(k.uw),n.Y36(l.s))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-product"]],decls:2,vars:2,consts:[["style","height: 300px;","class","uk-flex uk-flex-center uk-flex-middle",4,"ngIf"],[4,"ngIf"],[1,"uk-flex","uk-flex-center","uk-flex-middle",2,"height","300px"],[1,"uk-flex"],[1,"uk-width-expand"],["mat-flat-button","","color","primary",3,"click"],[1,"uk-table","uk-table-middle","uk-table-divider"],["align","right"],[4,"ngFor","ngForOf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"disabled","click"],["mat-icon-button","",3,"click"]],template:function(t,e){1&t&&(n.YNc(0,w,2,0,"div",0),n.YNc(1,_,24,2,"mat-card",1)),2&t&&(n.Q6J("ngIf",e.loading),n.xp6(1),n.Q6J("ngIf",!e.loading))},directives:[i.O5,v.$g,m.a8,m.dk,m.n5,m.dn,d.lW,i.sg,c.Hw],styles:[""]}),t})()},{path:"",pathMatch:"full",redirectTo:"/admin/dashboard"}]}];let J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[i.ez,o.Bz.forChild(M),f.M,Z.u5]]}),t})()}}]);